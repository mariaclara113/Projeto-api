generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Secretario {
  id    Int    @id @default(autoincrement())
  nome  String
  email String @unique
  senha String  // Adicionado para autenticação
  role   String  @default("secretario") // novo campo
  
}

model Extensionista {
  id        Int      @id @default(autoincrement())
  nome      String
  email     String   @unique
  telefone  String?
  createdAt DateTime @default(now())

  pontos    Ponto[]
}

model Projeto {
  id        Int      @id @default(autoincrement())
  nome      String
  descricao String?
  createdAt DateTime @default(now())

  pontos    Ponto[]
}

model Ponto {
  id              Int          @id @default(autoincrement())
  dataHora        DateTime
  tipo            String
  observacao      String?

  extensionista   Extensionista @relation(fields: [extensionistaId], references: [id])
  extensionistaId Int

  projeto         Projeto?      @relation(fields: [projetoId], references: [id])
  projetoId       Int?
}